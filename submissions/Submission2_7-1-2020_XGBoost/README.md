# _precisionFDA_ COVID-19 Risk Factor Modeling

<h3 align="right"><img src="https://raw.githubusercontent.com/BlueGranite/precisionFDA_VAH_COVID-19/master/img/bg_logo.png" width="200px" alt="BlueGranite, Inc."></h3>

<h3 align="right">Colby T. Ford, Thomas J. Weinandy, David Barnhart, Megan Quinn</h3>

## XGBoost Modeling

All models below were 2-fold cross-validated and a hyperparameter grid search was performed in XGBoost, selecting the combination with the best AUC (area under the ROC curve). Metrics shown are from scoring against the training data.

| Use Case           | Models and Parameters Tested<br>     (* Denotes Best Model/Parameter)                                                                                                                                                                                                | Best Model’s Metrics          | Important Features<br>(Obs: Observation)                                                                                                                                                                                                                                                                  |
|--------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Days Hospitalized  | XGBoost Regression:<br>     •	Learning Rate: 0.03, 0.05*, 0.07<br>     •	Max Depth: 5*, 6, 7<br>     •	Min Child Weight: 4, 3*, 2<br>     •	Col Sample by Tree: 0.3, 0.5*, 0.7<br>     •	Subsample: 0.8*, 1<br>     •	n Estimators: 100<br>     •	Early Stopping Rounds: 10 | R2: 0.26394<br>RMSE: 4.47623  | • age_years: 0.03494<br>• QALY_Min: 0.01429<br>• careplan_736252007: 0.01397<br>• Healthcare_Coverage: 0.01378<br>• QALY_Avg: 0.01204<br>• QALY_Max: 0.01103<br>• (Obs) 6299-2_StdDev: 0.01092<br>• condition_92691004: 0.01066<br>• medication_752899: 0.01004<br>• (Obs) 2069-3_StdDev: 0.00845         |
| Days in ICU        | XGBoost Regression:<br>     •	Learning Rate: 0.03*, 0.05, 0.07<br>     •	Max Depth: 5*, 6, 7<br>     •	Min Child Weight: 4, 3*, 2<br>     •	Col Sample by Tree: 0.3*, 0.5, 0.7<br>     •	Subsample: 0.8, 1*<br>     •	n Estimators: 100<br>     •	Early Stopping Rounds: 10 | R2: 0.23563<br>RMSE: 2.44000  | • (Obs) 29463-7_Max:   0.01159<br>• QALY_Max: 0.01143<br>• (Obs) 29463-7_Avg: 0.01004<br>• QALY_Min: 0.00938<br>• condition_44054006: 0.00895<br>• age_years: 0.00737<br>• (Obs) 29463-7_Min: 0.00682<br>• (Obs) 14959-1_Min: 0.00635<br>• procedure_410006001: 0.00625<br>• condition_128613002: 0.00562 |
| Ventilation Status | XGBoost Regression:<br>     •	Learning Rate: 0.03, 0.05, 0.07*<br>     •	Max Depth: 5*, 6, 7<br>     •	Min Child Weight: 4*, 3, 2<br>     •	Col Sample by Tree: 0.3, 0.5*, 0.7<br>     •	Subsample: 0.8, 1*<br>     •	n Estimators: 100<br>     •	Early Stopping Rounds: 10 | AUC: 0.84778<br>AUPR: 0.38014 | • (Obs) 6298-4_Min: 0.02534<br>• age_years: 0.02287<br>• Revenue: 0.01814<br>• QALY_Min: 0.01797<br>• condition_126906006: 0.01643<br>• QALY_Max: 0.01344<br>• procedure_265764009: 0.01289<br>• condition_424132000: 0.01121<br>• condition_64859006: 0.01024<br>• condition_92691004: 0.01015           |

